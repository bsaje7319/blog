# 关系数据库建模

数据库建模（ Database Modeling ） 是指针对一个给定的应用环境构造数据库模式， 建立数
据库及其应用系统， 使之能够有效地存储数据， 满足用户的应用需求。

在现代敏捷开发方法的指导下， 明确web 系统的业务需求后，`关系数据库建模通常由以下两步完成`。

· 设计E-R 图： 构造一个反映现实世界实体之间联系的模型。

· 关系表设计： 将E-R 图转换为关系表， 并定义列类型， 建立主键、外键等各种约束。

## 1.设计E-R图
E-R图,即实体· 关系(Entity-Relationship)图,是P.P.S.Chen 于1976 年提出的数据建模方法,
由于其简单实用,得到了普遍应用,是目前描述信息结构最常用的方法。
E-R 图通过以下3 种概念描述信息结构。

```
· 实体：客观存在的事物、事件、角色等， 比如采购员、老师、课程、订单等。
· 实体属性：用于描述实体的特性， 每个实体可以有多个属性， 比如老师的性别、名字、住址等。
· 关系：反映两个实体之间客观存在的关系。
```

两个实体的关系分为以下3类：
``` 
    1. 一对一关系
    2. 一对多关系
    3. 多对多关系
```

根据关系表来画思维导图


## 2.关系表的设计

``` 
    1. 数据库选型， 例如MySQL、SQL Server、Oracle、PostgreSQL等，各种数据库支持的列类型略有不同，
        所以需要在物理表设计之前完成选型。
     
    2.将每个实体转换为一个数据表，将实体是属性转换为该表中的列，为每个列定义相应的数据类型。
    
    3.对于有1:1关系的两个表，为两个表设置相同的主键列
    
    4.对于1：N关系的两个表，在N表中添加一个外键列，该列与1表的主键相关联
    
    5.对于M：N关系，生成一个单独的表表示该关系，该关系的列由两个表的主键组成
    
    6.重新审核所有的表，对需要的地方添加约束，对常用的条件字段设置索引
```

